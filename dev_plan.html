
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>OpenTurbine Development Plan &#8212; OpenTurbine - Flexible Multibody Structural Dynamics Code for Wind Turbines</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs"></script>
    <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";import elkLayouts from "https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs";mermaid.registerLayoutLoaders(elkLayouts);mermaid.initialize({startOnLoad:false});</script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
    <script type="module">
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";
window.addEventListener("load", () => mermaid.run());
</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'dev_plan';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Compiling" href="compiling.html" />
    <link rel="prev" title="Developer’s Guide" href="dev_guide.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
  
    <p class="title logo__title">OpenTurbine - Flexible Multibody Structural Dynamics Code for Wind Turbines</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    OpenTurbine
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_guide.html">User Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="theory_guide.html">Theory Manual</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="flexible_beam.html">SO(3)-based GEBT Beam</a></li>
<li class="toctree-l2"><a class="reference internal" href="rigid_body.html">R3xSO(3)-based Rigid Body</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinear_spring.html">R3-based geometrically nonlinear, constitutively linear spring</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="dev_guide.html">Developer’s Guide</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">OpenTurbine Development Plan</a></li>
<li class="toctree-l2"><a class="reference internal" href="compiling.html">Compiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html">Developer Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_docs.html">API Documentation</a></li>
<li class="toctree-l2"><a class="reference external" href="https://exawind.github.io/openturbine/doxygen/html/index.html">API Documentation</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/exawind/openturbine" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/exawind/openturbine/edit/main/docs/dev_plan.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/exawind/openturbine/issues/new?title=Issue%20on%20page%20%2Fdev_plan.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/dev_plan.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>OpenTurbine Development Plan</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background-and-overview">Background and overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#development-priorities-and-use-cases">Development priorities and use cases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#design-drivers-and-considerations">Design drivers and considerations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lean-software">Lean software</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modular-architecture">Modular architecture</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-first">Performance first</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#data-oriented-design">Data-oriented design</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessible-software">Accessible software</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#programming-language-and-models">Programming language and models</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#application-programming-interface-api">Application Programming Interface (API)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-numerical-algorithms">Key numerical algorithms</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#verification-and-validation-cases">Verification and validation cases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#target-baseline-turbines">Target baseline turbines</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#high-level-development-timeline">High-level development timeline</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="openturbine-development-plan">
<span id="dev-plan"></span><h1>OpenTurbine Development Plan<a class="headerlink" href="#openturbine-development-plan" title="Link to this heading">#</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This page is under construction. Please check back here throughout FY23
for updates, and see development activity at <a class="github reference external" href="https://github.com/exawind/openturbine">exawind/openturbine</a>.</p>
</div>
<section id="background-and-overview">
<h2>Background and overview<a class="headerlink" href="#background-and-overview" title="Link to this heading">#</a></h2>
<p>OpenTurbine development started in early 2023 with primary funding from the
U.S. Department of Energy (DOE) Wind Energy Technologies Office (WETO) and with
additional funding from the DOE Exascale Computing Project (ECP). It is being
developed by researchers at the National Renewable Energy Laboratory (NREL)
and the Sandia National Laboratories (SNL).</p>
<p>OpenTurbine is envisioned to be an open-source wind turbine structural dynamics
simulation code designed to meet the research needs of WETO and the broader
wind energy community for land-based and offshore wind turbines. OpenTurbine
will provide high-fidelity, highly performant structural dynamics models that
can couple with low-fidelity aerodynamic/hydrodynamic models like those in
<a class="reference external" href="https://github.com/OpenFAST/openfast">OpenFAST</a>, and high-fidelity computational
fluid dynamics (CFD) models like those in the WETO and Office of Science supported
<a class="reference external" href="https://github.com/Exawind">ExaWind</a> code suite. OpenTurbine will be designed
deliberately to address shortcomings of wind turbine structural models and codes that
are critical to the success of WETO modeling efforts.</p>
</section>
<section id="development-priorities-and-use-cases">
<h2>Development priorities and use cases<a class="headerlink" href="#development-priorities-and-use-cases" title="Link to this heading">#</a></h2>
<p><em>Development priorities:</em> Considering lessons learned from nearly a decade of
OpenFAST development, OpenTurbine will follow modern software development best
practices. The development process will require test-driven development,
version control, hierarchical automated testing, and continuous integration
leading to a robust development environment. The core data structures will be
memory efficient and will enable vectorization and parallelization at multiple
levels. They will be data-oriented in order to exploit methods for accelerated
computing including high utilization of chip resources (e.g., single
instruction multiple data [SIMD]), parallelization through GPU or other
hardware, and support for memory-efficient architectures such as the ARM-based
Apple M-series chips.</p>
<p><em>Use-case priority:</em> Time-domain simulation of land-based wind turbine dynamics coupled to computational fluid dynamics for fluid-structure-interaction.</p>
</section>
<section id="design-drivers-and-considerations">
<h2>Design drivers and considerations<a class="headerlink" href="#design-drivers-and-considerations" title="Link to this heading">#</a></h2>
<p>OpenTurbine is a relatively small, narrowly scoped software project.
Organizationally, it is very lean with a minimal and focused development
team. These factors are critical when considering the characteristics
of the software design. The project is driven by an objective to be
sustainable, extendable, accessible, and performant for many years to come.</p>
<p>Generally, this software should tend toward simplicity where possible
with a consideration for how new developers, current developers
in the future, and external stakeholders will be able to understand
the nuances of the code. In short, <strong>don’t be clever</strong> and <strong>keep it simple</strong>.</p>
<section id="lean-software">
<h3>Lean software<a class="headerlink" href="#lean-software" title="Link to this heading">#</a></h3>
<p>The scope of this software should be defined early in the development process,
and any expansion of the scope should be critically evaluated before accepting.
The approach to the scope of OpenTurbine should be conservative. The default
decision should be to retain the initial scope and change only if absolutely
necessary.</p>
<p>To limit the burden of development and responsibility of maintenance,
workflows should leverage existing software as much as possible. For instance,
input and output files should be handled by a third-party library. Similarly,
visualization of results, derivations of statistics, and math portability
are other areas where the ecosystem of open source scientific software
should be leveraged, and preference should be given to software internal to
NREL or funded by WETO.</p>
</section>
<section id="modular-architecture">
<h3>Modular architecture<a class="headerlink" href="#modular-architecture" title="Link to this heading">#</a></h3>
<p>The code architecture should be structured such that each portion of code
is responsible for a minimal unit of work. Low-level units can be combined
at an intermediate level to do more work, but the scope of each unit
throughout the architecture hierarchy should be explicitly described.
This design should ensure a modular architecture, and a test of success
is to measure the difficulty and depth of changes required to swap a
particular unit of the code.</p>
<p>The graphic below depicts a generic but typical data pipeline in scientific
software. A well encapsulated and modular architecture should support
something like swapping the library for handling YAML input files or
changing a solver type without modifying the modules around it.
The flow of data should be considered in discrete steps in a pipeline
rather than a monolithic system working on the data.</p>
<pre  class="mermaid">
        flowchart LR

    Start(( ))

    subgraph I/O
        direction LR
        io1{{YAML}}
        io2{{JSON}}
    end

    DataModel[[Data Model]]

    subgraph Solver
        direction LR
        solver1{{Type 1}}
        solver2{{Type 2}}
        solver3{{Type 3}}
    end

    Output[[Output Model]]

    subgraph Export
        direction LR
        export1{{Visualization}}
        export2{{ASCII}}
        export3{{Commercial}}
    end

    Finish(( ))

    Start --- I/O
    I/O --- DataModel
    DataModel --- Solver
    Solver --- Output
    Output --- Export
    Export --- Finish
    </pre><p>It is critical to the sustainability and stability of OpenTurbine
to maintain independence from external software even though there
will be reliance on existing libraries for common tasks. The modular
design should include data structures and API’s that are general enough
to support integration of third party libraries as well as the ability
to change any library for another that accomplishes a similar task
even if by alternative methods.</p>
</section>
<section id="performance-first">
<h3>Performance first<a class="headerlink" href="#performance-first" title="Link to this heading">#</a></h3>
<p>A key design consideration of OpenTurbine is computational efficiency
or performance. Both the quantity of work and the efficiency of data should
be considered and measured (i.e., profiled) during any development effort.
A modular architecture should support offloading computationally expensive
tasks to hardware accelerators or specialized libraries, and support
multiple options for doing so depending on user configurations and
the computational environment.</p>
<p>Similar to modularity in the architecture, expensive tasks should be
structured in a kernel form. This low-level design pattern combines
expensive mathematical operations into an aggregate form, and structures
them so that performance libraries or compilers can parallelize the
computation. This pattern helps to encapsulate expensive operations and
algorithms. Additionally, it follows the modular architecture design
described above in that it supports swapping accelerators or parallelization
methods.</p>
<section id="data-oriented-design">
<h4>Data-oriented design<a class="headerlink" href="#data-oriented-design" title="Link to this heading">#</a></h4>
<p>OpenTurbine developers designing new algorithms and data structures
should become familiar with the concepts of <a class="reference external" href="https://en.wikipedia.org/wiki/Data-oriented_design">data-oriented design</a>,
particularly <a class="reference external" href="https://stackoverflow.com/questions/17924705/structure-of-arrays-vs-array-of-structures">structures of arrays vs. arrays of structures</a>.
The key concept of this paradigm is to structure data so that it maps
closely to the form it will be represented and used within the relevant
algorithms and processing units. Specifically, developers should choose between
a structure of arrays (SoA) and array of structures (AoS) representation.
While there may be an inclination to construct a data model for best
readability, it is important to consider the computational efficiency.
A balance must be found, and documentation for any design decision is
an important tool to resolve this tension. The graphic below illustrates the
difference between structures of arrays and arrays of structures for a data
type consisting of three components of a  location and a magnitude such as
a point in 3D space (i.e., voxel or point in a fluid domain).</p>
<a class="reference internal image-reference" href="_images/AoS_SoA.pdf"><img alt="aos_soa" class="align-center" src="_images/AoS_SoA.pdf" style="width: 400px;" /></a>
<p>For operations involving vector math or accessing the same attribute of many
objects, the SoA pattern typically ensures that arrays are byte-aligned
to the size of CPU registers for operations on the entire array. The effect
is that compilers will add less padding to arrays in order to ensure
alignment. In operations that access all attributes of a particular object
for a computation, the AoS pattern structures the memory in a contiguous
form.</p>
</section>
</section>
<section id="accessible-software">
<h3>Accessible software<a class="headerlink" href="#accessible-software" title="Link to this heading">#</a></h3>
<p>Access to the software is an important consideration for the
longevity and relevance of OpenTurbine. In short, if the software is
not accessible, it won’t be used, extended, or maintained. All
development efforts should always consider user and developer accessibility
as a key driver. The distinction between “user” and “developer”
is not always clear, but accessibility efforts should address concerns
for both types of engagement with OpenTurbine.</p>
<p>Documentation is the primary tool for addressing accessibility. Documentation
should be considered a first-priority for general design decisions,
public API’s, and input files. For internal code, new features and changes
should be well described in words, diagrams, and math in their associated
pull requests. In general, it is good practice to first describe a scope
of work outlining objectives and methods. Then, public facing code should
be prototypes in contextual workflows and internal code should be
prototypes in unit tests following typical test driven development
processes.</p>
<p>The high level user interface should be expressive and easily accessible
through common computational tools. For example, it is typical to include
a Python interface to compiled code for easier data generation and scripting.</p>
</section>
</section>
<section id="programming-language-and-models">
<h2>Programming language and models<a class="headerlink" href="#programming-language-and-models" title="Link to this heading">#</a></h2>
<p>OpenTurbine is envisioned with a core written in C++ and leveraging <a class="reference external" href="https://github.com/kokkos/kokkos">Kokkos</a> as its performance-portability library with inspiration from the ExaWind
stack including <a class="reference external" href="https://github.com/Exawind/nalu-wind">Nalu-Wind</a>.</p>
</section>
<section id="application-programming-interface-api">
<h2>Application Programming Interface (API)<a class="headerlink" href="#application-programming-interface-api" title="Link to this heading">#</a></h2>
<p>The primary goal of the API is to provide data structures and interfaces
necessary for coupling OpenTurbine to the ExaWind CFD codes for
fluid-structure interaction simulations. For land-based wind, the interface
will be designed to couple the beam finite element models and point-mass
elements (e.g., representation of the nacelle) to a CFD mesh. We will leverage
the mesh mapping that was implemented and tested in the ExaWind codes. The
representation of the turbine geometry is handled within the fluid solver,
either as a three-dimensional surface mesh for high-fidelity geometry-resolved
simulations, or as an actuator-line for mid-fidelity simulations. Those
algorithms will work well for problems where a floating platform is represented
as a point-mass. For geometry-resolved floating-platform offshore simulations,
the API will be expanded to handle mapping from the structure surface mesh (if
solid/shell elements are used) to the CFD mesh.</p>
</section>
<section id="key-numerical-algorithms">
<h2>Key numerical algorithms<a class="headerlink" href="#key-numerical-algorithms" title="Link to this heading">#</a></h2>
<p>The models necessary for mid- to high-fidelity simulation of wind turbine
structural dynamics include linear and nonlinear finite-element models coupled
through constraints equations. For example, turbine blades may be modeled with
nonlinear beam finite elements, wherein the blade roots are constrained to
rotate with the hub. These models together constitute a set of
differential-algebraic equations (DAEs) in the time domain. We will build on the
experiences gained with OpenFAST, particularly its nonlinear beam-dynamics module,
<a class="reference external" href="https://github.com/OpenFAST/openfast/tree/main/modules/beamdyn">BeamDyn</a>.</p>
<p>For time integration of the index-3 DAEs, we will leverage the generalized-alpha
algorithm now established in BeamDyn which allows for user-controlled numerical
damping. See <a class="reference external" href="https://link.springer.com/article/10.1007/s11044-007-9084-0">Arnold and Brüls (2007)</a> for details.</p>
<p>The primary model for the turbine blades and the tower, which are slender and flexible
structures, will be nonlinear finite elements based on the geometrically exact beam
theory (GEBT), which includes bend-twist coupling. Spatial discretization
will be based on the Legendre spectral finite elements (LSFEs; like
those in BeamDyn), but with the explicit ability to use the subset of 2-node
finite elements (a special case of LSFEs).</p>
<p>The choice of rotation representation is being determined. BeamDyn relies on the
Wiener-Milenkovic vectorial rotation parameterization (three rotational degrees
of freedom), which contains singularities. The team is currently investigating the
use of <a class="reference external" href="https://en.wikipedia.org/wiki/Quaternion">quaternions</a>, which are
singularity free but require four parameters to represent rotation, i.e., they do
not form a minimum set.</p>
</section>
<section id="verification-and-validation-cases">
<h2>Verification and validation cases<a class="headerlink" href="#verification-and-validation-cases" title="Link to this heading">#</a></h2>
<p>The list of verification and validation cases is a work in progress. By way of
semantics, verification cases are those for which an analytical solution exists and
formal accuracy studies can be examined.  Validation cases are those for which
we have solutions that are deemed to be better representations of reality. For
example, validation results might be from experiments or from higher-fidelity
numerical simulations such as shell or solid finite element models.</p>
<p><strong>Verification cases</strong></p>
<ul class="simple">
<li><p>Rigid-body dynamics: three-dimensional pendulum</p></li>
<li><p>Cantilever-beam nonlinear static roll up</p></li>
</ul>
<p><strong>Validation cases</strong></p>
<ul class="simple">
<li><p>Princeton beam experiment</p></li>
<li><p>Twisted and curved beams where the benchmarks are highly resolved solid-element Ansys models</p></li>
<li><p>IEA 15-megawatt turbine where benchmark is a highly resolved shell-element Ansys model</p></li>
</ul>
</section>
<section id="target-baseline-turbines">
<h2>Target baseline turbines<a class="headerlink" href="#target-baseline-turbines" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.nrel.gov/docs/fy09osti/38060.pdf">NREL 5-megawatt reference turbine</a></p></li>
<li><p><a class="reference external" href="https://github.com/IEAWindTask37/IEA-15-240-RWT">IEA 15-megawatt reference turbine</a></p></li>
</ul>
</section>
<section id="high-level-development-timeline">
<h2>High-level development timeline<a class="headerlink" href="#high-level-development-timeline" title="Link to this heading">#</a></h2>
<p>CY = calendar year, FY = fiscal year</p>
<p><strong>CY23 Q2</strong>: The OpenTurbine team will implement a rigid-body dynamics solver following the
concepts described above, i.e., DAE-3 coupling, quaternion-based rotation representation, and a
generalized-alpha time integrator. This proof-of-concept implementation will be made available
in the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch of OpenTurbine repository and will inform the next steps in OpenTurbine
development.</p>
<p><strong>CY23 Q3</strong>: Implement a general GEBT-based beam element that is appropriate for constrained multi-body
simulations of a wind turbine. Enable variable order finite elements and user-defined material property
definition (appropriate for modern turbine blades). Demonstrate performance for a dynamic cantilever beam
problem and compare against <a class="reference external" href="https://github.com/OpenFAST/openfast/tree/main/modules/beamdyn">BeamDyn</a>.</p>
<p><strong>CY24 Q1</strong>: Demonstrate a wind turbine rotor simulation under prescribed loading and include code verification results and automated testing results. Include control system (e.g., <a class="reference external" href="https://github.com/NREL/ROSCO/tree/main/ROSCO">ROSCO</a>) and pitch control of blades. Compare simulation time against an equivalent model simulated with <a class="reference external" href="https://github.com/OpenFAST/openfast">OpenFAST</a>.</p>
<p><strong>CY24 Q3</strong>: Demonstrate a rotor simulation with fluid-structure interaction (FSI) and a pitch control system. Fluid will be represented in two ways. First, through a simple Blade Element Momentum Theory (BEMT) solver and second, where the blades are represented as actuator lines in the fluid domain (solved with the ExaWind CFD code).</p>
<p><strong>CY25 Q1</strong>: Release a robust, well-documented, well-tested version of OpenTurbine for land-based wind turbine simulations. Demonstrate whole turbine simulation (tower, nacelle, drivetrain) capabilities with FSI coupling to ExaWind.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="dev_guide.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Developer’s Guide</p>
      </div>
    </a>
    <a class="right-next"
       href="compiling.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Compiling</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background-and-overview">Background and overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#development-priorities-and-use-cases">Development priorities and use cases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#design-drivers-and-considerations">Design drivers and considerations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lean-software">Lean software</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modular-architecture">Modular architecture</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-first">Performance first</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#data-oriented-design">Data-oriented design</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#accessible-software">Accessible software</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#programming-language-and-models">Programming language and models</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#application-programming-interface-api">Application Programming Interface (API)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-numerical-algorithms">Key numerical algorithms</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#verification-and-validation-cases">Verification and validation cases</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#target-baseline-turbines">Target baseline turbines</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#high-level-development-timeline">High-level development timeline</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By National Renewable Energy Laboratory (NREL) and Sandia National Laboratories (SNL)
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023 - Present, MIT License.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>