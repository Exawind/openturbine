<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blade-element aerodynamics solver &mdash; OpenTurbine 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Developer Documentation" href="../developer/index.html" />
    <link rel="prev" title="Coupling for fluid-structure-interaction" href="fsi-api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            OpenTurbine
              <img src="../_static/oturb_logo_v2.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/user.html">User Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Theory Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">Formulation overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="gen-alpha.html">Time integration: Generalized-Alpha</a></li>
<li class="toctree-l2"><a class="reference internal" href="member-types.html">Member library</a></li>
<li class="toctree-l2"><a class="reference internal" href="configs.html">Model configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="fsi-api.html">Coupling for fluid-structure-interaction</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Blade-element aerodynamics solver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#initialization">Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#force-calculations-based-on-blade-element-polars">Force calculations based on blade-element polars</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgement.html">Acknowledgements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OpenTurbine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Theory Manual</a></li>
      <li class="breadcrumb-item active">Blade-element aerodynamics solver</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/theory/blade-element.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="blade-element-aerodynamics-solver">
<span id="sec-blade-element"></span><h1>Blade-element aerodynamics solver<a class="headerlink" href="#blade-element-aerodynamics-solver" title="Permalink to this heading"></a></h1>
<p>In this section we describe the theory for a simple blade-element solver
for fluid-structure interaction calculations.</p>
<p>For beams coupled to an aerodynamic solver, we follow the WindIO
requirement that the aerodynamic reference line is the same as the
structure reference line.</p>
<p>MAS: blade-root coordinate system</p>
<p>MAS: ADD IMAGE</p>
<p>MAS: scratching out some practial details</p>
<div class="section" id="initialization">
<h2>Initialization<a class="headerlink" href="#initialization" title="Permalink to this heading"></a></h2>
<p>Our blade-element solver requires the following user inputs for each
beam:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\eta^\mathrm{ac}_j \in [0,1]\)</span>,
<span class="math notranslate nohighlight">\(j\in\{1,\ldots n^\mathrm{ac}\}\)</span>, where
<span class="math notranslate nohighlight">\(\eta^\mathrm{ac}_j\)</span> are the nondimensional locations of the
aerodynamic sections along the reference line and
<span class="math notranslate nohighlight">\(n^\mathrm{ac}\)</span> is the number of aerodynamic sections.</p></li>
<li><p><span class="math notranslate nohighlight">\(\tau^\mathrm{ac}_j\)</span> is the section aerodynamic twist</p></li>
<li><p><span class="math notranslate nohighlight">\(c^\mathrm{ac}_j\)</span> is the section chord length</p></li>
<li><p>location of the aerodynamic center in the local aerodynamic section
plane with respect to the reference line; <span class="math notranslate nohighlight">\(y_j^\mathrm{ac}\)</span>,
<span class="math notranslate nohighlight">\(z_j^\mathrm{ac}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(C_j = C_j(\alpha_j)\)</span> which is a function that gives
<span class="math notranslate nohighlight">\(C^L_j\)</span>, <span class="math notranslate nohighlight">\(C^D_j\)</span>, <span class="math notranslate nohighlight">\(C^M_j\)</span>, the coefficients of lift,
drag, and moment per unit span, respecitvely.</p></li>
</ul>
<p>Calculate initialization quantities required by the FSI API (see
§<a class="reference external" href="#sec:fsi">[sec:fsi]</a>)</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
n^\mathrm{motion} = n^\mathrm{force} = n^\mathrm{ac} \\
\xi_j^\mathrm{motion,map}=\xi_j^\mathrm{force,map} =2 \eta^\mathrm{ac}_j-1
\end{aligned}\end{split}\]</div>
<p><span class="math notranslate nohighlight">\(\underline{x}_j^\mathrm{motion,map,0}\)</span> and
<span class="math notranslate nohighlight">\(\widehat{q}_j^\mathrm{motion,map,0}\)</span> are calculated in the FSI
API based on <span class="math notranslate nohighlight">\(\xi_j^\mathrm{motion,map}\)</span> and the underlying basis
functions.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
\underline{x}_j^\mathrm{motion,0} = \underline{x}_j^\mathrm{force,0} = \underline{x}_j^\mathrm{motion,map,0}
+ \underline{\underline{R}}\left( \widehat{q}^\mathrm{motion,map,0}_j\right)
\begin{bmatrix} 0 \\
y_j^\mathrm{ac} \\
z_j^\mathrm{ac}
\end{bmatrix}
\end{aligned}\end{split}\]</div>
<p>Calculate quantities required by the blade-element solver</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
  \Delta s_j =  \left \{
\begin{array}{ll}
    \int_{\xi_1^\mathrm{motion,map}}^{(\xi_j^\mathrm{motion,map}+\xi_{j+1}^\mathrm{motion,map})/2} J(\xi) d \xi
    &amp;  j =  1 \\
    \int_{(\xi_{j-1}+\xi_j)/2}^{(\xi_{j}+\xi_{j+1})/2} J(\xi) d \xi
    &amp;  j =  \{2,3,\ldots,n^\mathrm{motion}-1\} \\
    \int_{(\xi_{j-1}+\xi_{j})/2}^{\xi^\mathrm{motion,map}_{j}} J(\xi) d \xi
    &amp;  j =  n^\mathrm{motion}
\end{array}
\right .
\end{aligned}\end{split}\]</div>
</div>
<div class="section" id="force-calculations-based-on-blade-element-polars">
<h2>Force calculations based on blade-element polars<a class="headerlink" href="#force-calculations-based-on-blade-element-polars" title="Permalink to this heading"></a></h2>
<p>For each aerodynamic section, we must calculate the relative velocity at
the aerodynamic center based on the inflow velocity at that point and
the velocity of the aerodynamic center. That relative velocity is
projected onto the aerodynamic section plane and is used to calculate
lift, drag, and moment forces.</p>
<p>(1) For a given inflow velocity
<span class="math notranslate nohighlight">\(\dot{\underline{u}}_j^\mathrm{inflow}\)</span> and velocity of the
aerodynamic center <span class="math notranslate nohighlight">\(\dot{\underline{u}}_j^\mathrm{fl}\)</span>, calculate
the relative flow velocity at point
<span class="math notranslate nohighlight">\(\underline{x}_j^\mathrm{motion}\)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
  \dot{\underline{u}}^\mathrm{rel} =
\begin{bmatrix}
0 &amp; 0 &amp; 0 \\
0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 1
\end{bmatrix}
\left[ \underline{\underline{R}}\left(\hat{q}_j^\mathrm{motion,map}\right) \underline{\underline{R}}\left( \widehat{q}_j^\mathrm{motion,map,0}\right) \right]^T
\left( \dot{\underline{u}}^\mathrm{inflow}_j- \dot{\underline{u}}^\mathrm{fl}_j \right)
\end{aligned}\end{split}\]</div>
<p>(2) Given aerodynamic twist <span class="math notranslate nohighlight">\(\tau_j\)</span>, calculate the angle of
attack as <span class="math notranslate nohighlight">\(\alpha_j = \beta_j - \tau_j\)</span>, where</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{equation}
\beta_j = \left\{
\begin{array}{ll}
\mathrm{arccos} \left( \frac{\dot{\underline{u}}^\mathrm{rel}_j \cdot \hat{i}_y}{| \dot{\underline{u}}^\mathrm{rel}_j |}\right) &amp; \mathrm{if}\, \dot{\underline{u}}^\mathrm{rel}_j \cdot \hat{i}_y \ge 0 \\
2 \pi - \mathrm{arccos} \left( \frac{\dot{\underline{u}}^\mathrm{rel}_j \cdot \hat{i}_y}{| \dot{\underline{u}}^\mathrm{rel}_j |}\right) &amp; \mathrm{if}\, \dot{\underline{u}}^\mathrm{rel}_j \cdot \hat{i}_y &lt; 0
\end{array}
\right .
\end{equation}\end{split}\]</div>
<p>(3) Calculate <span class="math notranslate nohighlight">\(C^L_j\)</span>, <span class="math notranslate nohighlight">\(C^D_j\)</span>, <span class="math notranslate nohighlight">\(C^M_j\)</span> given
<span class="math notranslate nohighlight">\(\alpha_j\)</span> and calculate the force and moment in the aerodynamic
coordinates:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
  \underline{f}_j =
\begin{bmatrix}
0 \\
\left( C^D_j \cos \tau_j - C^L_j \sin \tau_j   \right) \\
\left( C^D_j \sin \tau_j + C^L_j \cos \tau_j   \right)
\end{bmatrix}
\frac{1}{2} \rho c_j \Delta s_j |\dot{\underline{u}}^\mathrm{rel}_j|^2
\end{aligned}\end{split}\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
  \underline{m}_j =
\begin{bmatrix}
C^M_j  \\
0 \\
0
\end{bmatrix}
\frac{1}{2} \rho c^2_j \Delta s_j |\dot{\underline{u}}^\mathrm{rel}_j|^2
\end{aligned}\end{split}\]</div>
<p>(4) Calculate force and moment in intertial coordiates (see
Eqs. (<a class="reference external" href="#eq:force">[eq:force]</a>)-(<a class="reference external" href="#eq:moment">[eq:moment]</a>)):</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
\underline{f}^\mathrm{force}_j = \underline{\underline{R}}\left(\widehat{q}_j^\mathrm{motion,map} \right)
\underline{\underline{R}}\left(\widehat{q}_j^\mathrm{motion,map,0}\right) \underline{f}_j\\
\underline{m}^\mathrm{force}_j = \underline{\underline{R}}\left(\widehat{q}_j^\mathrm{motion,map} \right)
\underline{\underline{R}}\left(\widehat{q}_j^\mathrm{motion,map,0}\right) \underline{m}_j
\end{aligned}\end{split}\]</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="fsi-api.html" class="btn btn-neutral float-left" title="Coupling for fluid-structure-interaction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../developer/index.html" class="btn btn-neutral float-right" title="Developer Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 - Present, MIT License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>