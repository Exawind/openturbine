
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Developer’s Guide &#8212; OpenTurbine</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Compiling" href="compiling.html" />
    <link rel="prev" title="Reference" href="reference.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">OpenTurbine</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    OpenTurbine Wind Turbine Structural Model
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="getting_started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tutorials.html">
   Tutorials / How-To
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="input_file.html">
   Input File
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="reference.html">
   Reference
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="current reference internal" href="#">
   Developer’s Guide
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="compiling.html">
     Compiling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="documentation.html">
     The Docs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="tools.html">
     Developer Tools
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="api_docs.html">
     API Documentation
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/rafmudaf/openturbine"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/rafmudaf/openturbine/issues/new?title=Issue%20on%20page%20%2Fdev_guide.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/rafmudaf/openturbine/edit/main/docs/dev_guide.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/dev_guide.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#version-control">
   Version control
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pull-requests">
   Pull requests
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#developer-workflow">
   Developer workflow
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-unit-tests">
   Adding unit tests
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#checklist-for-code-contributions">
   Checklist for code contributions
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Developer’s Guide</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#version-control">
   Version control
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pull-requests">
   Pull requests
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#developer-workflow">
   Developer workflow
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-unit-tests">
   Adding unit tests
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#checklist-for-code-contributions">
   Checklist for code contributions
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="developer-s-guide">
<span id="dev-guide"></span><h1><a class="toc-backref" href="#id1">Developer’s Guide</a><a class="headerlink" href="#developer-s-guide" title="Permalink to this headline">#</a></h1>
<p>Developers of OpenTurbine should understand the workflows described here.
Adherence to these processes ensures high quality code with minimal maintenance.
The development process involves orchestating a few different systems
and people so that work is not duplicated or conflicting. The primary
objective of these processes is communication and signaling to
other developers and ourselves now and in the future.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This page is under construction. Check back here throughout FY23
for updates, and see activity at <a class="reference external" href="https://github.com/exawind/openturbine">https://github.com/exawind/openturbine</a>.</p>
</div>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#developer-s-guide" id="id1">Developer’s Guide</a></p>
<ul>
<li><p><a class="reference internal" href="#version-control" id="id2">Version control</a></p></li>
<li><p><a class="reference internal" href="#pull-requests" id="id3">Pull requests</a></p></li>
<li><p><a class="reference internal" href="#developer-workflow" id="id4">Developer workflow</a></p></li>
<li><p><a class="reference internal" href="#adding-unit-tests" id="id5">Adding unit tests</a></p></li>
<li><p><a class="reference internal" href="#checklist-for-code-contributions" id="id6">Checklist for code contributions</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="version-control">
<h2><a class="toc-backref" href="#id2">Version control</a><a class="headerlink" href="#version-control" title="Permalink to this headline">#</a></h2>
<p>OpenTurbine uses git with a basic version of git-flow. The <code class="docutils literal notranslate"><span class="pre">main</span></code> branch is
stable, contains release-ready code, and is updated least frequently. The
<code class="docutils literal notranslate"><span class="pre">develop</span></code> branch contains tested and well developed code. It is the staging
branch for the next release. New work happens on feature branches prefixed
with <code class="docutils literal notranslate"><span class="pre">feature/</span></code> or <code class="docutils literal notranslate"><span class="pre">f/</span></code>, and these are merged into <code class="docutils literal notranslate"><span class="pre">develop</span></code>. Bug fixes are
on branches prefixed with <code class="docutils literal notranslate"><span class="pre">bug/</span></code> or <code class="docutils literal notranslate"><span class="pre">b/</span></code>, and these can be merged into
<code class="docutils literal notranslate"><span class="pre">develop</span></code> or <code class="docutils literal notranslate"><span class="pre">main</span></code> depending on the severity of the bug.</p>
<p>The commit history should serve as a record of changes and include good
contextual information. When staging changes and writing a commit message,
ask yourself “What will this mean to me in two years?” Indeed, there is a
real possibility that well after you’ve lost your current context you or
your colleague will read through your commits in an attempt to understand
what you were thinking right now. Do your future self the favor of
authoring a long lasting commit message with a well-scoped set of changes.</p>
<p>Some tips:</p>
<ul class="simple">
<li><p>Each commit should encompass one well-scoped change. A smell test is
whether you’ve used the word “and” in the commit message. For example,
a commit message of “Add a new CLI flag for XYZ and improve speed via
ABC” should probably be split into two commits, “Add new CLI flag for
XYZ” and “Improve speed via ABC”.</p></li>
<li><p>The sequence of commits can be as meaningful as the individual changes.
Construct the commit history so that someone can move through each
commit in a series and understand why and how the changes were made
in sequence.</p></li>
<li><p>Practice editing a branch’s commit history with interactive
rebase: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">-i</span></code>.</p></li>
</ul>
</section>
<section id="pull-requests">
<h2><a class="toc-backref" href="#id3">Pull requests</a><a class="headerlink" href="#pull-requests" title="Permalink to this headline">#</a></h2>
<p>The driving question for each pull request should be “How can I
convince reviewers that this pull request should be merged?”</p>
<p>Pull requests should include a well-scoped set of changes. It is
often reasonable to split a single branch into multiple pull
requests so that each PR does a single thing. The pull request
should have a complete description of the change as well as its
impact on the rest of the code. It is helpful to include diagrams
of the new code and how it fits into the existing architecture.
New code should include tests to demonstrate verification of
the methodology and robustness of the implementation.</p>
<p>Reviewers should be very verbose in their comments and feedback. If there
is a question, it should be asked without hesitation. This builds a searchable
body of information that can ultimately be compiled into more formal
documentation or serve as an informal reference on GitHub itself.</p>
</section>
<section id="developer-workflow">
<h2><a class="toc-backref" href="#id4">Developer workflow</a><a class="headerlink" href="#developer-workflow" title="Permalink to this headline">#</a></h2>
<p>Prior to starting work on a new project, a Discussion should be created
to describe the scope of work and design the implementation. The original
post (OP) should serve as the primary document and comments should be added
by reviewers. Typically, only the original author will modify the OP, but
all contributors can participate in the design process with comments. Once
the concept is well defined, an Issue should be opened with the final
description from the Discussion.</p>
<p>Issues allow work to be tracked in Project boards. Issues are generally a
bug report or a feature request. In addition to the information from the
Design Discussion, issues should include anticipated time frame and developer
assignments. This is a great place to coordinate a team of developers as well
as link issues to other issues to understand dependencies.</p>
<p>Finally, when the work is complete, a pull request should be created and
reviewers assigned.</p>
</section>
<section id="adding-unit-tests">
<h2><a class="toc-backref" href="#id5">Adding unit tests</a><a class="headerlink" href="#adding-unit-tests" title="Permalink to this headline">#</a></h2>
<p>All pull requests should be maximally tested in the unit test suite. This
includes new code as well as existing code that is modified. To add a new
unit test, first decide if the tests will consist of a new group of tests
or whether it logically fits into an existing group. GTest groups tests
into “test suites” during test declaration:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">TEST</span><span class="p">(</span><span class="n">TestSuiteName</span><span class="p">,</span><span class="w"> </span><span class="n">TestName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">test</span><span class="w"> </span><span class="n">body</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A test suite contains multiple tests and the unit test runner can
filter by test suite or test name. New tests should be organized so that
they organizationally reference the source code and logically fit
into an appropriate test suite.</p>
<p>Add a new test to an existing test suite by simply creating a new
test block with an appropriate test name. Be sure to document
the test and any relevant background.</p>
<p>A new test suite requires registering with CMake. First, create a
new C++ file to contain the test suite. Then, add it to the list
of sources for <code class="docutils literal notranslate"><span class="pre">${oturb_unit_test_exe_name}</span></code> in
<code class="docutils literal notranslate"><span class="pre">tests/unit_tests/CMakeLists.txt</span></code>.</p>
<p>The test suite can be listed from the runner with the following
command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./openturbine_unit_tests<span class="w"> </span>--gtest_list_tests
</pre></div>
</div>
</section>
<section id="checklist-for-code-contributions">
<h2><a class="toc-backref" href="#id6">Checklist for code contributions</a><a class="headerlink" href="#checklist-for-code-contributions" title="Permalink to this headline">#</a></h2>
<p>Ensure that all of these steps are complete prior to submitting a pull request
as ready for review.</p>
<ul class="simple">
<li><p>Context for the code changes (validation)</p></li>
<li><p>Description of the code changes including how they relate to the
project architecture and design</p></li>
<li><p>Proof of correctness (verification)</p></li>
<li><p>Tests for all changes included in the pull request included in the
automated tests</p></li>
<li><p>Documentation for changes</p></li>
<li><p>Documentation for high level references that are impacted; for example,
installation instructions, API reference, or user guides</p></li>
</ul>
</section>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="reference.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Reference</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="compiling.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Compiling</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By National Renewable Energy Laboratory<br/>
  
      &copy; Copyright 2023.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>